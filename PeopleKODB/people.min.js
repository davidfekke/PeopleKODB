var db,PersonModel=function(){function n(n,t,i,r){this.firstName=n,this.lastName=t,this.phone=i,this.email=r}return n}(),AppViewModel=function(){function n(){var n=this;this.people=ko.observableArray(),this.firstName=ko.observable(""),this.lastName=ko.observable(""),this.phone=ko.observable(""),this.email=ko.observable(""),this.currentPerson=ko.computed(function(){return new PersonModel(n.firstName,n.lastName,n.phone,n.email)})}return n.prototype.addPerson=function(){var n=new PersonModel(this.firstName(),this.lastName(),this.phone(),this.email()),t,i;this.people.push(n),t=db.transaction(["people"],"readwrite"),i=t.objectStore("people"),i.add(n)},n.prototype.clearPerson=function(){this.firstName(""),this.lastName(""),this.phone(""),this.email("")},n}(),getPeople=function(){var n=db.transaction(["people"],"readonly"),t=n.objectStore("people");t.openCursor().onsuccess=function(n){var t=n.target.result,i,r;t&&(console.dir(t),console.log(t.value.firstName),i=t.value,r=new PersonModel(i.firstName,i.lastName,i.phone,i.email),my.vm.people.push(r),t.continue())},n.oncomplete=function(){},n.onerror=function(n){console.dir(n)}},my={vm:new AppViewModel};$(function(){ko.applyBindings(my.vm);var n=indexedDB.open("peopleDB1",1);n.onupgradeneeded=function(n){var t=n.target.result;console.log("running onupgradeneeded"),t.objectStoreNames.contains("people")||t.createObjectStore("people",{keyPath:"id",autoIncrement:!0})},n.onsuccess=function(n){console.log("running onsuccess"),db=n.target.result,console.log("Current Object Stores"),console.dir(db.objectStoreNames),getPeople()},n.onerror=function(){}})